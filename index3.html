<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ê´‘í•©ì„± íš¨ìœ¨ í†µí•© ë¶„ì„ê¸°</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            padding: 20px;
            max-width: 900px;
            margin: auto;
            background: #f9fdf9;
            color: #333;
        }

        h1, h2 {
            color: #2a7d2e;
            border-bottom: 1px solid #ccc;
            padding-bottom: 5px;
            margin-top: 30px; /* ì„¹ì…˜ ì œëª© ìƒë‹¨ ì—¬ë°± */
        }

        /* íƒ­ ë©”ë‰´ ìŠ¤íƒ€ì¼ */
        .tab-buttons {
            display: flex;
            margin-bottom: 20px;
            border-bottom: 2px solid #ddd;
        }

        .tab-button {
            background-color: #eee;
            border: 1px solid #ddd;
            border-bottom: none;
            padding: 10px 20px;
            cursor: pointer;
            font-size: 16px;
            border-top-left-radius: 8px;
            border-top-right-radius: 8px;
            margin-right: 5px;
            transition: background-color 0.3s ease;
        }

        .tab-button:hover {
            background-color: #e0e0e0;
        }

        .tab-button.active {
            background-color: #fff;
            border-bottom: 2px solid #2a7d2e; /* í™œì„± íƒ­ í•˜ë‹¨ ê°•ì¡° */
            color: #2a7d2e;
            font-weight: bold;
            transform: translateY(2px); /* ì•½ê°„ ì•„ë˜ë¡œ ë‚´ë ¤ì™€ì„œ ì„ íƒëœ ëŠë‚Œ */
            z-index: 1; /* ë‹¤ë¥¸ íƒ­ë³´ë‹¤ ìœ„ë¡œ */
        }

        /* íƒ­ ì½˜í…ì¸  ìŠ¤íƒ€ì¼ */
        .tab-content {
            display: none; /* ê¸°ë³¸ì ìœ¼ë¡œ ëª¨ë“  íƒ­ ì½˜í…ì¸  ìˆ¨ê¹€ */
            padding: 20px;
            border: 1px solid #ddd;
            border-top: none;
            background-color: #fff;
            border-bottom-left-radius: 8px;
            border-bottom-right-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }

        .tab-content.active {
            display: block; /* í™œì„± íƒ­ ì½˜í…ì¸ ë§Œ í‘œì‹œ */
        }

        label {
            display: block;
            margin-top: 15px;
            font-weight: bold;
        }

        input[type="number"], select {
            width: calc(100% - 12px); /* íŒ¨ë”© ê³ ë ¤ */
            padding: 6px;
            margin-top: 5px;
            border: 1px solid #ccc;
            border-radius: 4px;
        }

        button {
            margin-top: 20px;
            padding: 10px 20px;
            font-size: 16px;
            background-color: #2a7d2e;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        button:hover {
            background-color: #1e5e22;
        }

        .link-buttons {
            margin-top: 10px;
        }

        .link-buttons a {
            display: inline-block;
            margin-right: 10px;
            background-color: #2980b9;
            color: white;
            padding: 5px 10px;
            border-radius: 5px;
            text-decoration: none;
            font-size: 14px;
            transition: background-color 0.3s ease;
        }
        .link-buttons a:hover {
            background-color: #206a96;
        }

        .result, .ai-result {
            margin-top: 20px;
            font-size: 1.1em;
            font-weight: bold;
            background: #eef;
            padding: 15px;
            border-left: 5px solid #3a7;
            white-space: pre-wrap;
            border-radius: 4px;
        }

        #aiExplain {
            background: #f4f9f4;
            padding: 15px;
            border-left: 5px solid #2a7d2e;
            font-size: 14px;
            margin-top: 20px;
            border-radius: 4px;
        }

        .slider-container {
            margin-top: 15px;
        }
        input[type="range"] {
            width: calc(100% - 12px);
            margin-top: 5px;
        }

        .checkbox-container {
            margin-top: 15px;
        }
    </style>
</head>
<body>

    <div class="tab-buttons">
        <button class="tab-button active" onclick="openTab(event, 'chungcheong')">ì§€ì—­ë³„ ê´‘í•©ì„± ë¶„ì„</button>
        <button class="tab-button" onclick="openTab(event, 'scenario')">ìƒí™©ë³„ ê´‘í•©ì„± ì˜ˆì¸¡</button>
    </div>

    <div id="chungcheong" class="tab-content active">
        <h1>ì§€ì—­ë³„ ê´‘í•©ì„± íš¨ìœ¨ ë¶„ì„ê¸°</h1>
        <p>ì‹¤ì‹œê°„ ì •ë³´ë¥¼ í™•ì¸í•˜ê³  ì•„ë˜ì— ì…ë ¥í•´ ì£¼ì„¸ìš”:</p>

        <div class="link-buttons">
            <a href="https://www.weather.go.kr/w/weather/observation/current.jsp" target="_blank">ğŸŒ¡ï¸ í˜„ì¬ ì˜¨ë„ í™•ì¸</a>
            <a href="https://data.kma.go.kr/cmmn/main.do" target="_blank">â˜€ï¸ ì¼ì‚¬ëŸ‰ ë°ì´í„°</a>
            <a href="https://www.airkorea.or.kr/web" target="_blank">ğŸŒ¿ COâ‚‚ ë†ë„</a>
        </div>

        <label for="temp">ğŸŒ¡ï¸ ì˜¨ë„ (Â°C):</label>
        <input type="number" id="temp" placeholder="ì˜ˆ: 33">

        <label for="light">â˜€ï¸ ë¹›ì˜ ì„¸ê¸° (Î¼mol/mÂ²/s):</label>
        <input type="number" id="light" placeholder="ì˜ˆ: 1000">

        <label for="co2">ğŸŒ¿ ì´ì‚°í™”íƒ„ì†Œ ë†ë„ (ppm):</label>
        <input type="number" id="co2" placeholder="ì˜ˆ: 400">

        <button onclick="calculateEfficiency()">ğŸ“Š ê´‘í•©ì„± íš¨ìœ¨ ë¶„ì„</button>
        <div class="result" id="output"></div>

        <div id="chartContainer">
            <canvas id="effChart" width="600" height="300"></canvas>
        </div>
        <div id="aiExplain"></div>
    </div>

    <div id="scenario" class="tab-content">
        <h1>ğŸŒ¿ ìƒí™©ë³„ ê´‘í•©ì„± ì˜ˆì¸¡ ëª¨ë¸ (í™•ì¥íŒ)</h1>
        <p>ë‹¤ì–‘í•œ ì‹ë¬¼Â·í™˜ê²½ ì‹œë‚˜ë¦¬ì˜¤ ì„ íƒ â†’ ì¡°ê±´ ì¡°ì ˆ â†’ ê´‘í•©ì„±ëŸ‰ í™•ì¸ â†’ AIê°€ ìµœì  ì¡°ê±´ ë° ì´ìœ  ì„¤ëª…</p>

        <label for="scenario">ğŸŒ ìƒí™© ì„ íƒ:</label>
        <select id="scenarioSelect" onchange="updateValues()"> <option value="tropical">â‘  ì—´ëŒ€ ì‹ë¬¼ (ê³ ì˜¨ë‹¤ìŠµ)</option>
            <option value="winter">â‘¡ ê²¨ìš¸ì²  ì˜¨ì‹¤ (ì €ì˜¨, ë¹› ë¶€ì¡±)</option>
            <option value="mountain">â‘¢ ê³ ì‚° ì‹ë¬¼ (COâ‚‚ ë‚®ìŒ)</option>
            <option value="desert">â‘£ ì‚¬ë§‰ ì‹ë¬¼ (ê³ ì˜¨, ë¹› ê°•í•¨, ë¬¼ ë¶€ì¡±)</option>
            <option value="shade">â‘¤ ê·¸ëŠ˜ ì‹ë¬¼ (ë¹› ì•½í•¨)</option>
            <option value="aquatic">â‘¥ ìˆ˜ìƒ ì‹ë¬¼ (ìˆ˜ì˜¨ ë‚®ê³  COâ‚‚ ìˆ˜ì¤‘ ì œí•œ)</option>
        </select>

        <div class="slider-container">
            <label>ğŸŒ¡ï¸ ì˜¨ë„ (Â°C): <span id="tempVal">25</span></label>
            <input type="range" id="tempSlider" min="0" max="50" value="25">
        </div>

        <div class="slider-container">
            <label>ğŸ’¡ ë¹› ì„¸ê¸° (lux): <span id="lightVal">5000</span></label>
            <input type="range" id="lightSlider" min="0" max="10000" value="5000" step="100">
        </div>

        <div class="slider-container">
            <label>ğŸŒ¬ï¸ COâ‚‚ ë†ë„ (ppm): <span id="co2Val">400</span></label>
            <input type="range" id="co2Slider" min="200" max="1000" value="400" step="10">
        </div>

        <div class="result" id="photosynthesisRate">ğŸŒ± ê´‘í•©ì„±ëŸ‰: ê³„ì‚° ì¤‘...</div>

        <div class="checkbox-container">
            <label><input type="checkbox" id="easyMode"> ì‰½ê²Œ ì„¤ëª… ë³´ê¸°</label>
        </div>

        <button onclick="predictOptimal()">ğŸ¤– AI ë„ìš°ë¯¸: ìµœì  ì¡°ê±´ ë³´ê¸°</button>
        <div class="ai-result" id="aiResult">AI ì˜ˆì¸¡ ê²°ê³¼ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤.</div>
    </div>

    <script>
        // íƒ­ ì „í™˜ ê¸°ëŠ¥
        function openTab(evt, tabName) {
            let i, tabcontent, tabbuttons;

            tabcontent = document.getElementsByClassName("tab-content");
            for (i = 0; i < tabcontent.length; i++) {
                tabcontent[i].style.display = "none";
                tabcontent[i].classList.remove("active");
            }

            tabbuttons = document.getElementsByClassName("tab-button");
            for (i = 0; i < tabbuttons.length; i++) {
                tabbuttons[i].classList.remove("active");
            }

            document.getElementById(tabName).style.display = "block";
            document.getElementById(tabName).classList.add("active");
            evt.currentTarget.classList.add("active");

            // íƒ­ ì „í™˜ ì‹œ ì°¨íŠ¸ ë° ìŠ¬ë¼ì´ë” ê°’ ì´ˆê¸°í™”/ì—…ë°ì´íŠ¸
            if (tabName === 'chungcheong') {
                // ì§€ì—­ë³„ ë¶„ì„ íƒ­ìœ¼ë¡œ ëŒì•„ì˜¬ ë•Œ ì°¨íŠ¸ ë‹¤ì‹œ ê·¸ë¦¬ê¸° (í•„ìš”í•˜ë‹¤ë©´)
                // calculateEfficiency()ë¥¼ ìë™ìœ¼ë¡œ í˜¸ì¶œí•˜ì§€ëŠ” ì•ŠìŒ (ì‚¬ìš©ì ì…ë ¥ í›„ ë¶„ì„ ë²„íŠ¼ í´ë¦­ ìœ ë„)
            } else if (tabName === 'scenario') {
                // ì‹œë‚˜ë¦¬ì˜¤ íƒ­ìœ¼ë¡œ ëŒì•„ì˜¬ ë•Œ ìŠ¬ë¼ì´ë” ê°’ ì—…ë°ì´íŠ¸
                updateValues();
            }
        }

        // ì§€ì—­ë³„ íš¨ìœ¨ ë¶„ì„ ì‹œìŠ¤í…œ
        let chartInstance = null;
        function getScore(value, low, high, optimal) {
            // ê°’ì´ ìµœì  ë²”ìœ„(optimal)ë³´ë‹¤ ë‚®ì„ ë•Œì˜ ì ìˆ˜ ê³„ì‚°
            if (value < optimal) {
                // (optimal - low) êµ¬ê°„ì—ì„œ ì–¼ë§ˆë‚˜ ë²—ì–´ë‚¬ëŠ”ì§€ì— ë”°ë¼ ì ìˆ˜ ë¶€ì—¬
                // ì˜ˆë¥¼ ë“¤ì–´, optimalì´ 1000, lowê°€ 200ì¼ ë•Œ 200ì— ê°€ê¹Œìš¸ìˆ˜ë¡ ì ìˆ˜ê°€ ë‚®ì•„ì§
                if (value < low) return 0; // ìµœì†Œ ë²”ìœ„ë³´ë‹¤ ë‚®ìœ¼ë©´ 0ì 
                return 1.0 - (optimal - value) / (optimal - low);
            }
            // ê°’ì´ ìµœì  ë²”ìœ„(optimal)ë³´ë‹¤ ë†’ì„ ë•Œì˜ ì ìˆ˜ ê³„ì‚°
            else if (value > optimal) {
                // (high - optimal) êµ¬ê°„ì—ì„œ ì–¼ë§ˆë‚˜ ë²—ì–´ë‚¬ëŠ”ì§€ì— ë”°ë¼ ì ìˆ˜ ë¶€ì—¬
                // ì˜ˆë¥¼ ë“¤ì–´, optimalì´ 1000, highê°€ 2000ì¼ ë•Œ 2000ì— ê°€ê¹Œìš¸ìˆ˜ë¡ ì ìˆ˜ê°€ ë‚®ì•„ì§
                if (value > high) return 0; // ìµœëŒ€ ë²”ìœ„ë³´ë‹¤ ë†’ìœ¼ë©´ 0ì 
                return 1.0 - (value - optimal) / (high - optimal);
            }
            // ê°’ì´ ìµœì (optimal)ì¼ ë•Œ
            else {
                return 1.0; // ìµœì ê°’ì¼ ê²½ìš° 1.0 (100%)
            }
        }

        function calculateEfficiency() {
            const temp = parseFloat(document.getElementById("temp").value);
            const light = parseFloat(document.getElementById("light").value);
            const co2 = parseFloat(document.getElementById("co2").value);

            if (isNaN(temp) || isNaN(light) || isNaN(co2)) {
                document.getElementById("output").innerHTML = "â— ëª¨ë“  ê°’ì„ ì •í™•íˆ ì…ë ¥í•´ ì£¼ì„¸ìš”.";
                return;
            }

            const tempScore = getScore(temp, 5, 40, 25);
            const lightScore = getScore(light, 200, 2000, 1000);
            const co2Score = getScore(co2, 100, 1000, 400);

            const efficiency = ((tempScore + lightScore + co2Score) / 3) * 100;
            const efficiencyFixed = efficiency.toFixed(1);
            let message = `ğŸ“Š í˜„ì¬ ê´‘í•©ì„± íš¨ìœ¨ì€ <strong>${efficiencyFixed}%</strong> ì…ë‹ˆë‹¤.<br><br>`;
            let aiMsg = "";

            if (efficiency >= 90) {
                message += "âœ… ë§¤ìš° ì´ìƒì ì¸ ì¡°ê±´ì…ë‹ˆë‹¤!";
                aiMsg = "ì„¸ ê°€ì§€ ì¡°ê±´ ëª¨ë‘ ì‹ë¬¼ì´ ê°€ì¥ ì¢‹ì•„í•˜ëŠ” ìˆ˜ì¤€ì— ê°€ê¹ìŠµë‹ˆë‹¤. ê´‘í•©ì„±ì´ í™œë°œíˆ ì§„í–‰ë©ë‹ˆë‹¤.";
            } else if (efficiency >= 70) {
                message += "ğŸ‘ ì¢‹ì€ ì¡°ê±´ì…ë‹ˆë‹¤.";
                aiMsg = "ëŒ€ì²´ë¡œ ì–‘í˜¸í•œ í™˜ê²½ì…ë‹ˆë‹¤. íŠ¹íˆ ì˜¨ë„ë‚˜ COâ‚‚ê°€ ì´ìƒì ì¸ ìˆ˜ì¤€ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.";
            } else if (efficiency >= 50) {
                message += "âš ï¸ ì¡°ê±´ì´ ì¡°ê¸ˆ ë¶€ì¡±í•©ë‹ˆë‹¤.";
                aiMsg = "í•œë‘ ê°€ì§€ ìš”ì†Œ(ì˜ˆ: ì˜¨ë„ ë˜ëŠ” ë¹›)ê°€ ìµœì ì—ì„œ ë²—ì–´ë‚˜ ìˆì–´ ê´‘í•©ì„± íš¨ìœ¨ì´ ë–¨ì–´ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.";
            } else {
                message += "âŒ ê´‘í•©ì„± íš¨ìœ¨ì´ ë§¤ìš° ë‚®ìŠµë‹ˆë‹¤.";
                aiMsg = "ì¡°ê±´ì´ ì „ë°˜ì ìœ¼ë¡œ ì¢‹ì§€ ì•Šì•„ ì‹ë¬¼ì´ ìƒì¥í•˜ê¸° ì–´ë ¤ìš´ í™˜ê²½ì…ë‹ˆë‹¤.";
            }

            document.getElementById("output").innerHTML = message;
            const ctx = document.getElementById('effChart').getContext('2d');
            if (chartInstance) chartInstance.destroy();

            chartInstance = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: ['ì˜¨ë„', 'ë¹›ì˜ ì„¸ê¸°', 'COâ‚‚'],
                    datasets: [{
                        label: 'ìš”ì†Œë³„ íš¨ìœ¨ ì ìˆ˜ (%)',
                        data: [tempScore * 100, lightScore * 100, co2Score * 100],
                        borderColor: '#2ecc71',
                        backgroundColor: 'rgba(46, 204, 113, 0.1)',
                        tension: 0.3,
                        pointBackgroundColor: '#27ae60',
                        fill: true
                    }]
                },
                options: {
                    responsive: true,
                    scales: {
                        y: { beginAtZero: true, max: 100 }
                    }
                }
            });

            document.getElementById("aiExplain").innerHTML =
                `<strong>ğŸ¤– AI ë¶„ì„ í•´ì„¤:</strong><br>${aiMsg}<br><br>` +
                `ğŸ” ì„¸ë¶€ ì ìˆ˜ â€” ì˜¨ë„: ${(tempScore * 100).toFixed(1)}%, ë¹›: ${(lightScore * 100).toFixed(1)}%, COâ‚‚: ${(co2Score * 100).toFixed(1)}%`;
        }

        // ì‹œë‚˜ë¦¬ì˜¤ ê¸°ë°˜ ì˜ˆì¸¡ ì‹œìŠ¤í…œ
        const tempSlider = document.getElementById('tempSlider');
        const lightSlider = document.getElementById('lightSlider');
        const co2Slider = document.getElementById('co2Slider');
        const tempVal = document.getElementById('tempVal');
        const lightVal = document.getElementById('lightVal');
        const co2Val = document.getElementById('co2Val');
        const rateDisplay = document.getElementById('photosynthesisRate');
        const aiResult = document.getElementById('aiResult');
        const scenarioSelect = document.getElementById('scenarioSelect'); // ID ë³€ê²½ ë°˜ì˜
        const easyMode = document.getElementById('easyMode');

        function getScenarioSettings() {
            switch (scenarioSelect.value) {
                case 'tropical': return { temp: 30, light: 8000, co2: 700 };
                case 'winter': return { temp: 20, light: 3000, co2: 500 };
                case 'mountain': return { temp: 18, light: 6000, co2: 350 };
                case 'desert': return { temp: 35, light: 9000, co2: 600 };
                case 'shade': return { temp: 22, light: 2000, co2: 450 };
                case 'aquatic': return { temp: 18, light: 4000, co2: 300 };
                default: return { temp: 25, light: 5000, co2: 400 };
            }
        }

        function calculatePhotosynthesis(temp, light, co2) {
            const opt = getScenarioSettings();
            // ê° ìš”ì†Œê°€ ìµœì ê°’ì— ê°€ê¹Œìš¸ìˆ˜ë¡ ë†’ì€ ê°’ì„ ë°˜í™˜í•˜ëŠ” ê°€ìš°ì‹œì•ˆ í•¨ìˆ˜ í˜•íƒœ
            const tempFactor = Math.exp(-Math.pow((temp - opt.temp) / 10, 2));
            const lightFactor = Math.exp(-Math.pow((light - opt.light) / 2000, 2));
            const co2Factor = Math.exp(-Math.pow((co2 - opt.co2) / 200, 2));
            // ì„¸ ì¸ìì˜ ê³±ìœ¼ë¡œ ìµœì¢… ê´‘í•©ì„±ëŸ‰ ê²°ì • (0~100 ì‚¬ì´ ê°’)
            return tempFactor * lightFactor * co2Factor * 100;
        }

        function updateValues() {
            const t = parseInt(tempSlider.value);
            const l = parseInt(lightSlider.value);
            const c = parseInt(co2Slider.value);
            tempVal.textContent = t;
            lightVal.textContent = l;
            co2Val.textContent = c;
            const rate = calculatePhotosynthesis(t, l, c);
            rateDisplay.textContent = `ğŸŒ± ê´‘í•©ì„±ëŸ‰: ${rate.toFixed(2)} (ëª¨ì˜ ê°’)`;
            aiResult.textContent = "AI ì˜ˆì¸¡ ê²°ê³¼ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤."; // ìŠ¬ë¼ì´ë” ì¡°ì‘ ì‹œ AI ê²°ê³¼ ì´ˆê¸°í™”
        }

        function predictOptimal() {
            let best = { rate: -1, temp: 0, light: 0, co2: 0 };
            // ìµœì  ì¡°ê±´ì„ ì°¾ê¸° ìœ„í•œ íƒìƒ‰ ë²”ìœ„
            // ì˜¨ë„ëŠ” 10~40Â°C, ë¹›ì€ 1000~9000 lux, CO2ëŠ” 300~800 ppm
            for (let t = 10; t <= 40; t++) {
                for (let l = 1000; l <= 9000; l += 500) {
                    for (let c = 300; c <= 800; c += 50) {
                        const rate = calculatePhotosynthesis(t, l, c);
                        if (rate > best.rate) best = { rate, temp: t, light: l, co2: c };
                    }
                }
            }

            const scenario = scenarioSelect.value;
            const easy = easyMode.checked;
            let explanation = "", easyText = "";

            switch (scenario) {
                case "tropical":
                    explanation = `ê³ ì˜¨ë‹¤ìŠµí•œ ì—´ëŒ€ í™˜ê²½ì—ì„œëŠ” íš¨ì†Œê°€ í™œë°œíˆ ì‘ë™í•´ ê´‘í•©ì„± ì†ë„ê°€ ë¹ ë¦…ë‹ˆë‹¤.\në¹›ê³¼ COâ‚‚ê°€ ì¶©ë¶„í•˜ë©´ ë”ìš± íš¨ê³¼ì ì…ë‹ˆë‹¤.`;
                    easyText = `â†’ ë”°ëœ»í•˜ê³  ìŠµí•œ í™˜ê²½, ë°ì€ ë¹›, ë§ì€ COâ‚‚ê°€ ì—´ëŒ€ ì‹ë¬¼ì— ì¢‹ì•„ìš”.`;
                    break;
                case "winter":
                    explanation = `ê²¨ìš¸ì€ ê¸°ì˜¨ê³¼ ë¹›ì´ ë‚®ì•„ ê´‘í•©ì„±ì´ ëŠë¦½ë‹ˆë‹¤.\në”°ë¼ì„œ ì ë‹¹í•œ ì˜¨ë„ì™€ ë¹›, COâ‚‚ ë†ë„ê°€ í•„ìš”í•©ë‹ˆë‹¤.`;
                    easyText = `â†’ ì¶”ìš´ ê²¨ìš¸ì—” ë”°ëœ»í•˜ê³  ë°ì€ í™˜ê²½, COâ‚‚ë¥¼ ì¶©ë¶„íˆ ê³µê¸‰í•´ ì£¼ì„¸ìš”.`;
                    break;
                case "mountain":
                    explanation = `ê³ ì‚°ì€ COâ‚‚ ë†ë„ë„ ë‚®ê³  ê¸°ì˜¨ë„ ë‚®ìŠµë‹ˆë‹¤.\në¹›ì€ ìˆì§€ë§Œ íš¨ì†Œ ì‘ìš©ê³¼ COâ‚‚ í™œìš©ì´ ì œí•œë©ë‹ˆë‹¤.`;
                    easyText = `â†’ ë†’ì€ ì‚°ì—ì„œëŠ” ë‚®ì€ COâ‚‚ë¥¼ ê³ ë ¤í•´ ì˜¨ë„ì™€ ë¹›ì„ ì˜ ë§ì¶°ì•¼ í•´ìš”.`;
                    break;
                case "desert":
                    explanation = `ì‚¬ë§‰ ì‹ë¬¼ì€ ê³ ì˜¨ê³¼ ê°•í•œ ë¹›ì— ì ì‘í•˜ê³ , ë¬¼ ì†ì‹¤ì„ ì¤„ì´ê¸° ìœ„í•´ íš¨ìœ¨ì ì…ë‹ˆë‹¤.\nì¤‘ê°„ ì •ë„ì˜ COâ‚‚ê°€ ì ì ˆíˆ ì‘ìš©í•©ë‹ˆë‹¤.`;
                    easyText = `â†’ ì‚¬ë§‰ í™˜ê²½ì—” ëœ¨ê²ê³  ë°ê³ , COâ‚‚ëŠ” ë„ˆë¬´ ë§ì§€ ì•Šê²Œ!`;
                    break;
                case "shade":
                    explanation = `ê·¸ëŠ˜ ì‹ë¬¼ì€ ë¹›ì´ ì•½í•˜ë¯€ë¡œ ë‚®ì€ ë¹›ì—ì„œë„ ì‘ìš©í•˜ëŠ” íš¨ì†Œê°€ ì¤‘ìš”í•©ë‹ˆë‹¤.\në”°ëœ»í•œ ì˜¨ë„ì™€ ë‚®ì€ ë¹›, ì ì ˆí•œ COâ‚‚ ë†ë„ê°€ í•„ìš”í•©ë‹ˆë‹¤.`;
                    easyText = `â†’ ë¹›ì´ ì ì–´ë„ ì‚´ì•„ë‚¨ëŠ” ì‹ë¬¼! ì˜¨ë„ì™€ COâ‚‚ ì¡°ì ˆì´ í•µì‹¬ì´ì—ìš”.`;
                    break;
                case "aquatic":
                    explanation = `ìˆ˜ìƒ ì‹ë¬¼ì€ ìˆ˜ì˜¨ì´ ë‚®ê³  COâ‚‚ ê³µê¸‰ì´ ì œí•œë©ë‹ˆë‹¤.\nì ì ˆí•œ ì˜¨ë„ì™€ ë¹› ì¡°ê±´ì´ ê´‘í•©ì„±ì— ì¤‘ìš”í•©ë‹ˆë‹¤.`;
                    easyText = `â†’ ë¬¼ì† ì‹ë¬¼ì€ ì‹œì›í•œ ì˜¨ë„, ë³´í†µ ë¹›, ë‚®ì€ COâ‚‚ì—ì„œë„ ì„±ì¥í•´ìš”.`;
                    break;
            }

            aiResult.innerHTML = `
âœ… <strong>${scenarioSelect.options[scenarioSelect.selectedIndex].text}</strong>ì˜ ìµœì  ì¡°ê±´:
ì˜¨ë„: <strong>${best.temp}Â°C</strong>
ë¹› ì„¸ê¸°: <strong>${best.light} lux</strong>
COâ‚‚ ë†ë„: <strong>${best.co2} ppm</strong>
ì˜ˆìƒ ê´‘í•©ì„±ëŸ‰: <strong>${best.rate.toFixed(2)}</strong>

ğŸ” <strong>AI ì„¤ëª…:</strong>
${explanation}
${easy ? `\nğŸ’¡ <strong>ì‰¬ìš´ ì„¤ëª…:</strong> ${easyText}` : ""}`;
        }

        // ìŠ¬ë¼ì´ë” ë° ì‹œë‚˜ë¦¬ì˜¤ ì„ íƒ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ
        tempSlider.oninput = updateValues;
        lightSlider.oninput = updateValues;
        co2Slider.oninput = updateValues;
        scenarioSelect.onchange = updateValues;

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì²« ë²ˆì§¸ íƒ­ í™œì„±í™” ë° ì´ˆê¸° ê°’ ì—…ë°ì´íŠ¸
        document.addEventListener('DOMContentLoaded', (event) => {
            // ì´ˆê¸° íƒ­ í™œì„±í™” (ì²« ë²ˆì§¸ íƒ­)
            document.querySelector('.tab-button').click();
            // ì‹œë‚˜ë¦¬ì˜¤ íƒ­ì˜ ì´ˆê¸° ê°’ ì—…ë°ì´íŠ¸ (ë§Œì•½ ì‹œë‚˜ë¦¬ì˜¤ íƒ­ì´ ì²« íƒ­ì´ë¼ë©´)
            // ì•„ë‹ˆë©´ í•´ë‹¹ íƒ­ì´ í™œì„±í™”ë  ë•Œ updateValues()ê°€ í˜¸ì¶œë˜ë„ë¡ openTab í•¨ìˆ˜ì—ì„œ ì²˜ë¦¬
            updateValues(); // ì´ˆê¸° ë¡œë”© ì‹œ ì‹œë‚˜ë¦¬ì˜¤ ìŠ¬ë¼ì´ë” ê°’ ë°˜ì˜
        });
    </script>
</body>
</html>
