<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>ìƒí™©ë³„ ê´‘í•©ì„± ì¡°ê±´ ì˜ˆì¸¡ (í™•ì¥íŒ)</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 30px; max-width: 800px; margin: auto; }
    label, select { font-weight: bold; font-size: 14px; }
    .slider-container { margin: 15px 0; }
    .result, .ai-result { background: #eef; margin-top: 20px; padding: 15px; border-left: 5px solid #3a7; white-space: pre-wrap; }
    button { margin-top: 10px; padding: 10px; background-color: #4CAF50; border: none; color: white; cursor: pointer; }
    button:hover { background-color: #388e3c; }
    .checkbox-container { margin-top: 10px; }
  </style>
</head>
<body>

  <h2>ğŸŒ¿ ìƒí™©ë³„ ê´‘í•©ì„± ì˜ˆì¸¡ ëª¨ë¸ (í™•ì¥íŒ)</h2>
  <p>ë‹¤ì–‘í•œ ì‹ë¬¼Â·í™˜ê²½ ì‹œë‚˜ë¦¬ì˜¤ ì„ íƒ â†’ ì¡°ê±´ ì¡°ì ˆ â†’ ê´‘í•©ì„±ëŸ‰ í™•ì¸ â†’ AIê°€ ìµœì  ì¡°ê±´ ë° ì´ìœ  ì„¤ëª…</p>

  <label for="scenario">ğŸŒ ìƒí™© ì„ íƒ:</label>
  <select id="scenario" onchange="updateValues()">
    <option value="tropical">â‘  ì—´ëŒ€ ì‹ë¬¼ (ê³ ì˜¨ë‹¤ìŠµ)</option>
    <option value="winter">â‘¡ ê²¨ìš¸ì²  ì˜¨ì‹¤ (ì €ì˜¨, ë¹› ë¶€ì¡±)</option>
    <option value="mountain">â‘¢ ê³ ì‚° ì‹ë¬¼ (COâ‚‚ ë‚®ìŒ)</option>
    <option value="desert">â‘£ ì‚¬ë§‰ ì‹ë¬¼ (ê³ ì˜¨, ë¹› ê°•í•¨, ë¬¼ ë¶€ì¡±)</option>
    <option value="shade">â‘¤ ê·¸ëŠ˜ ì‹ë¬¼ (ë¹› ì•½í•¨)</option>
    <option value="aquatic">â‘¥ ìˆ˜ìƒ ì‹ë¬¼ (ìˆ˜ì˜¨ ë‚®ê³  COâ‚‚ ìˆ˜ì¤‘ ì œí•œ)</option>
  </select>

  <div class="slider-container">
    <label>ğŸŒ¡ï¸ ì˜¨ë„ (Â°C): <span id="tempVal">25</span></label>
    <input type="range" id="temp" min="0" max="50" value="25">
  </div>

  <div class="slider-container">
    <label>ğŸ’¡ ë¹› ì„¸ê¸° (lux): <span id="lightVal">5000</span></label>
    <input type="range" id="light" min="0" max="10000" value="5000" step="100">
  </div>

  <div class="slider-container">
    <label>ğŸŒ¬ï¸ COâ‚‚ ë†ë„ (ppm): <span id="co2Val">400</span></label>
    <input type="range" id="co2" min="200" max="1000" value="400" step="10">
  </div>

  <div class="result" id="photosynthesisRate">ğŸŒ± ê´‘í•©ì„±ëŸ‰: ê³„ì‚° ì¤‘...</div>

  <div class="checkbox-container">
    <label><input type="checkbox" id="easyMode"> ì‰½ê²Œ ì„¤ëª… ë³´ê¸°</label>
  </div>

  <button onclick="predictOptimal()">ğŸ¤– AI ë„ìš°ë¯¸: ìµœì  ì¡°ê±´ ë³´ê¸°</button>
  <div class="ai-result" id="aiResult">AI ì˜ˆì¸¡ ê²°ê³¼ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤.</div>

<script>
  const tempSlider = document.getElementById('temp');
  const lightSlider = document.getElementById('light');
  const co2Slider = document.getElementById('co2');
  const tempVal = document.getElementById('tempVal');
  const lightVal = document.getElementById('lightVal');
  const co2Val = document.getElementById('co2Val');
  const rateDisplay = document.getElementById('photosynthesisRate');
  const aiResult = document.getElementById('aiResult');
  const scenarioSelect = document.getElementById('scenario');
  const easyMode = document.getElementById('easyMode');

  function getScenarioSettings() {
    switch (scenarioSelect.value) {
      case 'tropical': return { temp: 30, light: 8000, co2: 700 };
      case 'winter': return { temp: 20, light: 3000, co2: 500 };
      case 'mountain': return { temp: 18, light: 6000, co2: 350 };
      case 'desert': return { temp: 35, light: 9000, co2: 600 };
      case 'shade': return { temp: 22, light: 2000, co2: 450 };
      case 'aquatic': return { temp: 18, light: 4000, co2: 300 };
      default: return { temp: 25, light: 5000, co2: 400 };
    }
  }

  function calculatePhotosynthesis(temp, light, co2) {
    const opt = getScenarioSettings();
    const tempFactor = Math.exp(-Math.pow((temp - opt.temp) / 10, 2));
    const lightFactor = Math.exp(-Math.pow((light - opt.light) / 2000, 2));
    const co2Factor = Math.exp(-Math.pow((co2 - opt.co2) / 200, 2));
    return tempFactor * lightFactor * co2Factor * 100;
  }

  function updateValues() {
    const t = parseInt(tempSlider.value);
    const l = parseInt(lightSlider.value);
    const c = parseInt(co2Slider.value);
    tempVal.textContent = t; lightVal.textContent = l; co2Val.textContent = c;
    const rate = calculatePhotosynthesis(t, l, c);
    rateDisplay.textContent = `ğŸŒ± ê´‘í•©ì„±ëŸ‰: ${rate.toFixed(2)} (ëª¨ì˜ ê°’)`;
    aiResult.textContent = "AI ì˜ˆì¸¡ ê²°ê³¼ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤.";
  }

  function predictOptimal() {
    let best = { rate: -1, temp:0, light:0, co2:0 };
    for (let t=10; t<=40; t+=1) {
      for (let l=1000; l<=9000; l+=500) {
        for (let c=300; c<=800; c+=50) {
          const rate = calculatePhotosynthesis(t,l,c);
          if (rate > best.rate) best = { rate, temp:t, light:l, co2:c };
        }
      }
    }

    const scenario = scenarioSelect.value;
    const easy = easyMode.checked;
    let explanation = "", easyText = "";

    switch (scenario) {
      case "tropical":
        explanation = `ê³ ì˜¨ë‹¤ìŠµí•œ ì—´ëŒ€ í™˜ê²½ì—ì„œëŠ” íš¨ì†Œê°€ í™œë°œíˆ ì‘ë™í•´ ê´‘í•©ì„± ì†ë„ê°€ ë¹ ë¦…ë‹ˆë‹¤.\në¹›ê³¼ COâ‚‚ê°€ ì¶©ë¶„í•˜ë©´ ë”ìš± íš¨ê³¼ì ì…ë‹ˆë‹¤.`;
        easyText = `â†’ ë”°ëœ»í•˜ê³  ìŠµí•œ í™˜ê²½, ë°ì€ ë¹›, ë§ì€ COâ‚‚ê°€ ì—´ëŒ€ ì‹ë¬¼ì— ì¢‹ì•„ìš”.`;
        break;
      case "winter":
        explanation = `ê²¨ìš¸ì€ ê¸°ì˜¨ê³¼ ë¹›ì´ ë‚®ì•„ ê´‘í•©ì„±ì´ ëŠë¦½ë‹ˆë‹¤.\në”°ë¼ì„œ ì ë‹¹í•œ ì˜¨ë„ì™€ ë¹›, COâ‚‚ ë†ë„ê°€ í•„ìš”í•©ë‹ˆë‹¤.`;
        easyText = `â†’ ì¶”ìš´ ê²¨ìš¸ì—” ë”°ëœ»í•˜ê³  ë°ì€ í™˜ê²½, COâ‚‚ë¥¼ ì¶©ë¶„íˆ ê³µê¸‰í•´ ì£¼ì„¸ìš”.`;
        break;
      case "mountain":
        explanation = `ê³ ì‚°ì€ COâ‚‚ ë†ë„ë„ ë‚®ê³  ê¸°ì˜¨ë„ ë‚®ìŠµë‹ˆë‹¤.\në¹›ì€ ìˆì§€ë§Œ íš¨ì†Œ ì‘ìš©ê³¼ COâ‚‚ í™œìš©ì´ ì œí•œë©ë‹ˆë‹¤.`;
        easyText = `â†’ ë†’ì€ ì‚°ì—ì„œëŠ” ë‚®ì€ COâ‚‚ë¥¼ ê³ ë ¤í•´ ì˜¨ë„ì™€ ë¹›ì„ ì˜ ë§ì¶°ì•¼ í•´ìš”.`;
        break;
      case "desert":
        explanation = `ì‚¬ë§‰ ì‹ë¬¼ì€ ê³ ì˜¨ê³¼ ê°•í•œ ë¹›ì— ì ì‘í•˜ê³ , ë¬¼ ì†ì‹¤ì„ ì¤„ì´ê¸° ìœ„í•´ íš¨ìœ¨ì ì…ë‹ˆë‹¤.\nì¤‘ê°„ ì •ë„ì˜ COâ‚‚ê°€ ì ì ˆíˆ ì‘ìš©í•©ë‹ˆë‹¤.`;
        easyText = `â†’ ì‚¬ë§‰ í™˜ê²½ì—” ëœ¨ê²ê³  ë°ê³ , COâ‚‚ëŠ” ë„ˆë¬´ ë§ì§€ ì•Šê²Œ!`;
        break;
      case "shade":
        explanation = `ê·¸ëŠ˜ ì‹ë¬¼ì€ ë¹›ì´ ì•½í•˜ë¯€ë¡œ ë‚®ì€ ë¹›ì—ì„œë„ ì‘ìš©í•˜ëŠ” íš¨ì†Œê°€ ì¤‘ìš”í•©ë‹ˆë‹¤.\në”°ëœ»í•œ ì˜¨ë„ì™€ ë‚®ì€ ë¹›, ì ì ˆí•œ COâ‚‚ ë†ë„ê°€ í•„ìš”í•©ë‹ˆë‹¤.`;
        easyText = `â†’ ë¹›ì´ ì ì–´ë„ ì‚´ì•„ë‚¨ëŠ” ì‹ë¬¼! ì˜¨ë„ì™€ COâ‚‚ ì¡°ì ˆì´ í•µì‹¬ì´ì—ìš”.`;
        break;
      case "aquatic":
        explanation = `ìˆ˜ìƒ ì‹ë¬¼ì€ ìˆ˜ì˜¨ì´ ë‚®ê³  COâ‚‚ ê³µê¸‰ì´ ì œí•œë©ë‹ˆë‹¤.\nì ì ˆí•œ ì˜¨ë„ì™€ ë¹› ì¡°ê±´ì´ ê´‘í•©ì„±ì— ì¤‘ìš”í•©ë‹ˆë‹¤.`;
        easyText = `â†’ ë¬¼ì† ì‹ë¬¼ì€ ì‹œì›í•œ ì˜¨ë„, ë³´í†µ ë¹›, ë‚®ì€ COâ‚‚ì—ì„œë„ ì„±ì¥í•´ìš”.`;
        break;
      default:
        explanation = `ì„ íƒí•œ í™˜ê²½ë§ˆë‹¤ ìµœì  ì¡°ê±´ì€ ë‹¬ë¼ì§‘ë‹ˆë‹¤.`;
    }

    aiResult.innerHTML = `
âœ… <strong>${scenarioSelect.options[scenarioSelect.selectedIndex].text}</strong>ì˜ ìµœì  ì¡°ê±´:
ì˜¨ë„: <strong>${best.temp}Â°C</strong>
ë¹› ì„¸ê¸°: <strong>${best.light} lux</strong>
COâ‚‚ ë†ë„: <strong>${best.co2} ppm</strong>
ì˜ˆìƒ ê´‘í•©ì„±ëŸ‰: <strong>${best.rate.toFixed(2)}</strong>

ğŸ” <strong>AI ì„¤ëª…:</strong>
${explanation}
${easy ? `\nğŸ’¡ <strong>ì‰¬ìš´ ì„¤ëª…:</strong> ${easyText}` : ""}`;
  }

  tempSlider.oninput = updateValues;
  lightSlider.oninput = updateValues;
  co2Slider.oninput = updateValues;
  scenarioSelect.onchange = updateValues;

  updateValues();
</script>

</body>
</html>
