<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>ìƒí™©ë³„ ê´‘í•©ì„± ì¡°ê±´ ì˜ˆì¸¡</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 30px;
      max-width: 720px;
      margin: auto;
    }
    label, select {
      font-weight: bold;
      font-size: 14px;
    }
    .slider-container {
      margin: 15px 0;
    }
    .result, .ai-result {
      background: #eef;
      margin-top: 20px;
      padding: 15px;
      border-left: 5px solid #3a7;
      white-space: pre-wrap; /* ì¤„ë°”ê¿ˆ ìœ ì§€ */
    }
    button {
      margin-top: 10px;
      padding: 10px;
      background-color: #4CAF50;
      border: none;
      color: white;
      cursor: pointer;
    }
    button:hover {
      background-color: #388e3c;
    }
  </style>
</head>
<body>

  <h2>ğŸŒ¿ ìƒí™©ë³„ ê´‘í•©ì„± ì˜ˆì¸¡ ëª¨ë¸</h2>
  <p>ë‹¤ì–‘í•œ ì‹ë¬¼ í™˜ê²½ ìƒí™©ì„ ì„ íƒí•˜ê³ , ì˜¨ë„, ë¹› ì„¸ê¸°, COâ‚‚ ë†ë„ë¥¼ ì¡°ì ˆí•˜ì—¬ ê´‘í•©ì„±ëŸ‰ì„ íƒêµ¬í•´ ë³´ì„¸ìš”.</p>

  <label for="scenario">ğŸŒ ìƒí™© ì„ íƒ:</label>
  <select id="scenario" onchange="updateValues()">
    <option value="tropical">â‘  ì—´ëŒ€ ì‹ë¬¼ (ê³ ì˜¨ë‹¤ìŠµ)</option>
    <option value="winter">â‘¡ ê²¨ìš¸ì²  ì˜¨ì‹¤ (ì €ì˜¨, ë¹› ë¶€ì¡±)</option>
    <option value="mountain">â‘¢ ê³ ì‚° ì‹ë¬¼ (COâ‚‚ ë‚®ìŒ)</option>
    <option value="desert">â‘£ ì‚¬ë§‰ ì‹ë¬¼ (ê³ ì˜¨, ë¹› ê°•í•¨, ë¬¼ ë¶€ì¡±)</option>
  </select>

  <div class="slider-container">
    <label>ğŸŒ¡ï¸ ì˜¨ë„ (Â°C): <span id="tempVal">25</span></label>
    <input type="range" id="temp" min="0" max="50" value="25">
  </div>

  <div class="slider-container">
    <label>ğŸ’¡ ë¹› ì„¸ê¸° (lux): <span id="lightVal">5000</span></label>
    <input type="range" id="light" min="0" max="10000" value="5000" step="100">
  </div>

  <div class="slider-container">
    <label>ğŸŒ¬ï¸ COâ‚‚ ë†ë„ (ppm): <span id="co2Val">400</span></label>
    <input type="range" id="co2" min="200" max="1000" value="400" step="10">
  </div>

  <div class="result" id="photosynthesisRate">ğŸŒ± ê´‘í•©ì„±ëŸ‰: ê³„ì‚° ì¤‘...</div>

  <button onclick="predictOptimal()">ğŸ¤– AI ë„ìš°ë¯¸: ìµœì  ì¡°ê±´ ë³´ê¸°</button>
  <div class="ai-result" id="aiResult">AI ì˜ˆì¸¡ ê²°ê³¼ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤.</div>

  <script>
    const tempSlider = document.getElementById('temp');
    const lightSlider = document.getElementById('light');
    const co2Slider = document.getElementById('co2');

    const tempVal = document.getElementById('tempVal');
    const lightVal = document.getElementById('lightVal');
    const co2Val = document.getElementById('co2Val');
    const rateDisplay = document.getElementById('photosynthesisRate');
    const aiResult = document.getElementById('aiResult');
    const scenarioSelect = document.getElementById('scenario');

    function getScenarioSettings() {
      const scenario = scenarioSelect.value;

      switch (scenario) {
        case 'tropical': return { temp: 30, light: 8000, co2: 700 };
        case 'winter': return { temp: 20, light: 3000, co2: 500 };
        case 'mountain': return { temp: 18, light: 6000, co2: 350 };
        case 'desert': return { temp: 35, light: 9000, co2: 600 };
        default: return { temp: 25, light: 5000, co2: 400 };
      }
    }

    function calculatePhotosynthesis(temp, light, co2, scenario) {
      const opt = getScenarioSettings();

      const tempFactor = Math.exp(-Math.pow((temp - opt.temp) / 10, 2));
      const lightFactor = Math.exp(-Math.pow((light - opt.light) / 2000, 2));
      const co2Factor = Math.exp(-Math.pow((co2 - opt.co2) / 200, 2));

      return tempFactor * lightFactor * co2Factor * 100;
    }

    function updateValues() {
      const temp = parseInt(tempSlider.value);
      const light = parseInt(lightSlider.value);
      const co2 = parseInt(co2Slider.value);

      tempVal.textContent = temp;
      lightVal.textContent = light;
      co2Val.textContent = co2;

      const scenario = scenarioSelect.value;
      const rate = calculatePhotosynthesis(temp, light, co2, scenario);
      rateDisplay.textContent = `ğŸŒ± ê´‘í•©ì„±ëŸ‰: ${rate.toFixed(2)} (ëª¨ì˜ ê°’)`;
      aiResult.textContent = "AI ì˜ˆì¸¡ ê²°ê³¼ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤.";
    }

    function predictOptimal() {
      const scenario = scenarioSelect.value;
      let best = { rate: -1, temp: 0, light: 0, co2: 0 };

      for (let t = 10; t <= 40; t += 1) {
        for (let l = 1000; l <= 9000; l += 500) {
          for (let c = 300; c <= 800; c += 50) {
            const rate = calculatePhotosynthesis(t, l, c, scenario);
            if (rate > best.rate) {
              best = { rate, temp: t, light: l, co2: c };
            }
          }
        }
      }

      let explanation = "";
      switch (scenario) {
        case "tropical":
          explanation = `ì—´ëŒ€ ì‹ë¬¼ì€ ê³ ì˜¨ë‹¤ìŠµí•œ í™˜ê²½ì—ì„œ ì˜ ìëë‹ˆë‹¤. ì˜¨ë„ê°€ ë†’ì„ìˆ˜ë¡ ê´‘í•©ì„±ì— ê´€ì—¬í•˜ëŠ” íš¨ì†Œë“¤ì˜ í™œë™ì´ í™œë°œí•´ì§€ê³ ,\në¹›ê³¼ COâ‚‚ê°€ í’ë¶€í•˜ë©´ ê´‘í•©ì„± ì†ë„ê°€ ì¦ê°€í•©ë‹ˆë‹¤.\në”°ë¼ì„œ ë†’ì€ ì˜¨ë„ì™€ ê°•í•œ ë¹›, ë†’ì€ COâ‚‚ ë†ë„ê°€ ìµœì  ì¡°ê±´ì´ ë©ë‹ˆë‹¤.`;
          break;
        case "winter":
          explanation = `ê²¨ìš¸ì²  ì˜¨ì‹¤ì€ ë‚®ì€ ì˜¨ë„ì™€ ë¹› ë¶€ì¡± í™˜ê²½ì´ë¯€ë¡œ, íš¨ìœ¨ì ì¸ ê´‘í•©ì„±ì„ ìœ„í•´ ì ë‹¹í•œ ì˜¨ë„ì™€ ë¹› ì¡°ê±´ì„ ìœ ì§€í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤.\nCOâ‚‚ ë†ë„ëŠ” ìƒëŒ€ì ìœ¼ë¡œ ë†’ì„ìˆ˜ë¡ ê´‘í•©ì„±ì— ë„ì›€ì´ ë©ë‹ˆë‹¤.`;
          break;
        case "mountain":
          explanation = `ê³ ì‚° ì§€ì—­ì€ ê¸°ì˜¨ì´ ë‚®ê³  ê³µê¸° ì¤‘ COâ‚‚ ë†ë„ê°€ ë‚®ì•„ ì‹ë¬¼ì´ ê´‘í•©ì„±ì— ì ì‘í•˜ê¸° ì–´ë µìŠµë‹ˆë‹¤.\në”°ë¼ì„œ ì ì ˆí•œ ì˜¨ë„ì™€ ë¹›ì„ í™•ë³´í•˜ê³  ë‚®ì€ COâ‚‚ ë†ë„ì—ì„œë„ ìµœëŒ€í•œ íš¨ìœ¨ì ìœ¼ë¡œ ì‘ìš©í•˜ëŠ” ì¡°ê±´ì´ í•„ìš”í•©ë‹ˆë‹¤.`;
          break;
        case "desert":
          explanation = `ì‚¬ë§‰ ì‹ë¬¼ì€ ê°•í•œ í–‡ë¹›ê³¼ ê³ ì˜¨ í™˜ê²½ì— ì ì‘í•´ ìˆìœ¼ë©°, ìˆ˜ë¶„ ì†ì‹¤ì„ ì¤„ì´ê¸° ìœ„í•´ ê´‘í•©ì„± íš¨ìœ¨ì„ ë†’ì—¬ì•¼ í•©ë‹ˆë‹¤.\në”°ë¼ì„œ ê³ ì˜¨ê³¼ ê°•í•œ ë¹› ì¡°ê±´ì—ì„œ COâ‚‚ ë†ë„ëŠ” ì¤‘ê°„ ìˆ˜ì¤€ì´ ìµœì ì…ë‹ˆë‹¤.`;
          break;
        default:
          explanation = `ì„ íƒí•œ ì‹œë‚˜ë¦¬ì˜¤ì— ë”°ë¼ ì‹ë¬¼ì˜ ìƒìœ¡ í™˜ê²½ê³¼ ê´‘í•©ì„± ìµœì  ì¡°ê±´ì´ ë‹¤ë¦…ë‹ˆë‹¤.`;
      }

      aiResult.innerHTML = `
        âœ… <strong>${scenarioSelect.options[scenarioSelect.selectedIndex].text}</strong>ì˜ ìµœì  ì¡°ê±´:<br>
        ì˜¨ë„: <strong>${best.temp}Â°C</strong><br>
        ë¹› ì„¸ê¸°: <strong>${best.light} lux</strong><br>
        COâ‚‚ ë†ë„: <strong>${best.co2} ppm</strong><br>
        ì˜ˆìƒ ê´‘í•©ì„±ëŸ‰: <strong>${best.rate.toFixed(2)}</strong><br><br>
        ğŸ” <strong>AI ì„¤ëª…:</strong><br>${explanation}
      `;
    }

    tempSlider.oninput = updateValues;
    lightSlider.oninput = updateValues;
    co2Slider.oninput = updateValues;
    scenarioSelect.onchange = updateValues;

    updateValues();
  </script>

</body>
</html>
